# Тестовое задание HTTP сервис
> Выполненное задание присылайте через ПР.

Разработать простой HTTP REST API сервис, работающий со структурой пользователей. Формат обмена application/json.

Реализовать следующий функционал:
1. Выводить пользователя по id.
1. Добавлять пользователя.
1. Изменять имя пользователя.
1. Удалять пользователя.

```go
// User структура пользователя
type User struct {
    ID int
    Name string
}
```
Данные необходимо хранить в базе данных (sqlite, например).

`Важно!` Очень хочется увидеть, как вы пробрасываете соединения, настройки и т.д. внутрь кода из main.go. Т.е. программа не должна состоять из одного файла и функции `main()`. Добавляйте пакеты, например, models, handlers, repositories и т.д. 

Можно использовать сторонние пакеты. Но не нужно подключать 10 мегабайтный пакет, чтобы выполнить простую операцию.

## Структура запросов

Запрос на измеенние и создание пользователя принимает тело запроса в виде:

```json
{"name": ...}
```

Где `name` - имя пользователяя для создания или изменения. 

## Структура ответов

Ответ сервиса имеет стандартную структуру:

```json
{"result":  ..., "error":  ...}
```

Когда статус `200`, `result` содержит данные, при других подах там `null`.

Когда статут не `200`, в поле `error` всегда следующая структура:

```json
{"code": ..., "message": ..., "details": ...}
```

`details` может быть `null`.

Когда статус `200`, `error` содержит `null`.

## Структура пользователя

```json
{"id": int, "name": string}
```

## Routes

- `POST /user` - создание пользователя (возможные статус-коды: `200`, `400`, `500`), в `result` возвращает структуру пользователя
- `GET /users/{id}` - получение пользователя по `id` (возможные статус-коды: `200`, `400`, `404`, `500`), в `result` возвращает структуру пользователя
- `PUT /users/{id}` - редактирование пользователя по `id` (возможные статус-коды: `200`, `400`, `404`, `500`), в `result` возвращает структуру пользователя
- `DELETE /users/{id}` - удаление пользователя по `id` (возможные статус-коды: `200`, `400`, `500`), в `result` `true`, когда статус `200`

## Usage

Usage of rest-service:
- `-database-init` If necessary to init a database. (default false)
- `-database-path` Filepath to a database file. (default data/database.sqlite)
- `-service-listen` What to listen. (default :8080)

Environment variables:
- `CONFIG_DATABASE_INIT`
- `CONFIG_DATABASE_PATH`
- `CONFIG_SERVICE_LISTEN`

## TODO

- [ ] тесты хэндлеров
- [ ] тесты логики
- [ ] тесты реализации хранилища
- [ ] библиотека-клиент для сервиса (http или gRPC)
- [ ] перевести на какой-нить фреймворк, что бы было меньше boilerplate-кода
